<h2>View Users</h2>
<div class="pull-right" style="padding-bottom: 10px">
  <a routerLink="/User"><button class="btn rounded-btn pull-right" > Add User</button></a>
</div>
<!-- <div class="table-responsive">
  <table class="table table-striped table-bordered">
    <tr >
      <th style="text-align: center;">Sr.No</th>
      <th style="text-align: center;">Name</th>
      <th style="text-align: center;">Username </th>
      <th style="text-align: center;">Admin</th>
    
      <th style="text-align: center;">Options</th>
    </tr>
    <tr *ngFor="let docs of docs ;let i=index">
      <td style="text-align: center;">{{i+1}}</td>
      <td style="text-align: center;">{{docs.firstName}} {{docs.lastName}}</td>
      <td style="text-align: center;">{{docs.username}}</td>
      <td style="text-align: center;">{{docs.isAdmin}}</td>
      <td>
        <a class="btn" (click)="Onedit(docs.objectId)"> <i class="fa fa-fw fa-edit"></i></a>
        <a class="btn text-danger"(click)="Ondelete(docs.objectId)"> <i class="fa fa-fw fa-trash"></i></a>
       
      </td>
    </tr>
  </table>

</div> -->
<!-- <table [id]="tableId" [ngClass]="tableClass">

    <thead ng2-st-thead *ngIf="!isHideHeader || !isHideSubHeader"
                        [grid]="grid"
                        [isAllSelected]="isAllSelected"
                        [source]="source"
                        [createConfirm]="createConfirm"
                        (create)="create.emit($event)"
                        (selectAllRows)="onSelectAllRows($event)"
                        (sort)="sort($event)"
                        (filter)="filter($event)">
    </thead>
  
    <tbody ng2-st-tbody [grid]="grid"
                        [source]="source"
                        [deleteConfirm]="deleteConfirm"
                        [editConfirm]="editConfirm"
                        [rowClassFunction]="rowClassFunction"
                        (edit)="edit.emit($event)"
                        (delete)="delete.emit($event)"
                        (custom)="custom.emit($event)"
                        (userSelectRow)="onUserSelectRow($event)"
                        (editRowSelect)="editRowSelect($event)"
                        (multipleSelectRow)="multipleSelectRow($event)"
                        (rowHover)="onRowHover($event)">
    </tbody>
  
  </table>
  
  <ng2-smart-table-pager *ngIf="isPagerDisplay"
                          [source]="source"
                          [perPageSelect]="perPageSelect"
                          (changePage)="changePage($event)">
  </ng2-smart-table-pager> -->

<ng2-smart-table class="table" [settings]="defaultSettings" [source]="source" 
                        (createConfirm)="addRecord($event)"
                        (editConfirm)="updateRecord($event)"
                        (create)="create.emit($event)"
                        (edit)="edit($event,content)"
                        (delete)="delete($event)"
                        (custom)="custom.emit($event)"
                        (userSelectRow)="onUserSelectRow($event)"
                        (editRowSelect)="editRowSelect($event)"
                        (multipleSelectRow)="multipleSelectRow($event)"
                        (selectAllRows)="onSelectAllRows($event)"
                        (sort)="sort($event)"
                        (filter)="filter($event)"
                        (custom)="onCustom($event)"
                        
                        (changePwd)="onCustom($event)"
                        ></ng2-smart-table>

                        <ng-template #content let-c="close" let-d="dismiss">
                            <form   (ngSubmit)="changePwd(frm.value)" #frm="ngForm" novalidate>
                          <div class="modal-header">
                              <h4 class="modal-title">Change Password</h4>
                              <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                                  <span aria-hidden="true">&times;</span>
                              </button>
                          </div>
                          <div class="modal-body">
                            
                             
                                <div class="col-md-12" >
                                    <div class="form-group" >
                                            <label for="password">Password<font color="red">*</font></label>
                                            <input type="password"  class="form-control input-underline input-lg"   pattern="^(?=)(?=.*[@#$%^&+=]).*$" name="password" #password="ngModel"  ngModel required placeholder="Enter the password" minlength="6" />
                                            <small  class="text-danger" *ngIf="password.errors?.pattern">
                                                    Need atleast one special character 
                                            </small>
                                            <small class="text-danger" *ngIf="password.errors?.required">
                                                    Password is Required
                                              </small>
                                              <small  class="text-danger" *ngIf="password.errors?.minlength">
                                                            At least 6 character 
                                                    </small>
                                        </div>
                             </div>
                             <div class="col-md-12" >
                                    <div class="form-group" >
                                            <label for="password">Re-enter Password<font color="red">*</font></label>
                                            <input type="password" class="form-control input-underline input-lg" validateEqual="password"  name="confirmPassword" #confirmPassword="ngModel" ngModel  required placeholder="Re-enter password"/>
                                            <small class="text-danger" [hidden]="confirmPassword.valid || (confirmPassword.pristine && !frm.submitted)">
                                                Password mismatch
                                            </small>
                                             <!-- <small class="text-danger" *ngIf="confirmPassword.errors?.required">
                                                    Re-enter Password is Required
                                              </small> -->
                                       </div>
                             </div>
                             <div class="form-group">
                                <input type="hidden" name="objectId" #objectId="ngModel" ngModel [(ngModel)]="objID1" />
                        
                            </div>
                            

                          </div>
                          <div class="modal-footer">
                           
                              <div class="col-md-6">
                                  <button type="submit" [disabled]="!frm.valid"  class="btn btn rounded-btn btn-block" >Change</button>
                              </div>
                              <div class="col-md-6">
                                  <button type="button" class="btn btn rounded-btn btn-block" (click)="c('Close click')">Close</button>
                              </div>
                           
                          </div>
                        </form>
                      </ng-template>

<!-- <table [id]="tableId" [ngClass]="tableClass">

    <thead ng2-st-thead 
                        [grid]="grid"
                        [isAllSelected]="isAllSelected"
                        [source]="docs"
                        [createConfirm]="createConfirm"
                        (create)="create.emit($event)"
                        (selectAllRows)="onSelectAllRows($event)"
                        (sort)="sort($event)"
                        (filter)="filter($event)">
    </thead>
  
    <tbody ng2-st-tbody [grid]="grid"
                        [source]="docs"
                        [deleteConfirm]="deleteConfirm"
                        [editConfirm]="editConfirm"
                        [rowClassFunction]="rowClassFunction"
                        (edit)="edit.emit($event)"
                        (delete)="delete.emit($event)"
                        (custom)="custom.emit($event)"
                        (userSelectRow)="onUserSelectRow($event)"
                        (editRowSelect)="editRowSelect($event)"
                        (multipleSelectRow)="multipleSelectRow($event)"
                        (rowHover)="onRowHover($event)">
    </tbody>
  
  </table>
  
  <ng2-smart-table-pager *ngIf="isPagerDisplay"
                          [source]="docs"
                          [perPageSelect]="perPageSelect"
                          (changePage)="changePage($event)">
  </ng2-smart-table-pager> -->